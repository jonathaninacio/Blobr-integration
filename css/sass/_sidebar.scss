// sidebar colors
$sb-bg-top: #000;
$sb-title: #fff;
$sb-user: #4CD964;
$sb-title-selected: #333333;
$sb-bg-bottom: #222;
$sb-menu-items: #B3B3B3;
$sb-menu-selected: #0071F2;


// no interact animation
@keyframes no-interact-popup{
	0%{opacity: 0;}
	10%, 90%{opacity: 1;}
	100%{opacity: 0;}
}

// spinning arrow animation
@keyframes arrow-spin{
	from{transform: rotate(0deg);}
	to{transform: rotate(180deg);}
}

// popup menu animation
@keyframes popup-menu-visible{
	from{transform: scale(.95) translate(0px,0px); opacity: 0;}
	to{transform: scale(1) translate(0px,-10px); opacity: 1;}
}

@mixin popup-deso($color, $transX, $transY){
    &:focus{
        outline: none;
        z-index: 20;
        &::after{
            content: "d√©so \01F937\Apas d'interaction";
            font-family: 'Inter', sans-serif;
            font-size: 1.4rem;
            font-weight: 500;
            white-space: pre;
            padding:5px;
            display: block;
            position:absolute;
            transform: translate($transX, $transY);
            color: $color;
            background-color: white;
            border-radius:8px;
            filter : drop-shadow(0px 5px 2px rgba(0,0,0,30%));
            z-index: 21;
            animation: no-interact-popup 1.0s forwards;
        }
    }
  }

.page-container{
    .sidebar{
        position: relative;
        width: 20vw;
        height: 100%;
        background-color:$sb-bg-bottom;
        padding-right: 0;
        outline:none;
        .sidebar-dropdown{
            width: 100%;
            outline: none;
            border: none;
            background-color: $sb-bg-top;
            .sidebar-title{
                float: left;
                padding: 20px 20px 0px 20px;
                font-weight: 700;
                font-size: 1.8rem;
                color:$sb-title;
            }
            .sidebar-user{
                float: left;
                padding: 10px 20px 20px 20px;
                font-weight: 300;
                font-size: 1.6rem;
                color:$sb-user;
            }
            .dropdown-arrow{
                position: relative;
                bottom: -15px;
                right: 20px;
                float: right;

            }
        }
        .sidebar-dropdown-selected{
            background-color: $sb-title-selected;
            outline: none;
            .dropdown-arrow{
                animation: arrow-spin 0.3s forwards;
            }
        }
        .menu{
            .menu-entry{
                background-color: $sb-bg-bottom;
                width: 100%;
                border: none;
                text-decoration: none;
                display: flex;
                padding: 15px 20px;
                color:$sb-menu-items;
                &:hover{
                    background-color: $sb-title-selected;
                }
                @include popup-deso($sb-bg-bottom, 150%, -35%);
                .menu-entry-svg{
                    padding-right: 10px;
                }
                .entry{
                    font-family: 'Inter', sans-serif;
                    font-size: 1.6rem;
                    font-weight: 400;
                }
            }
            .menu-entry-selected{
                color: $sb-title;
                background-color: $sb-menu-selected;
                &:hover{
                    background-color: $sb-menu-selected;
                }
                &:focus{
                    &::after{
                        display: none;
                    }
                }
            }
        }
        .popup-menu{
            background-color: $sb-title;
            padding: 4px;
            border-radius: 10px;
            filter : drop-shadow(0px 5px 2px rgba(0,0,0,30%));
            display: block;
            visibility: hidden;
            position: absolute;
            width: -webkit-fill-available;
            margin: 20px;
            top: 70px;
            z-index: 1;
            .popup-menu-entry{
                padding: 5px 10px;
                display: flex;
                border: none;
                background-color: $sb-title;
                font-family: 'Inter', sans-serif;
                font-weight: 600;
                font-size: 1.5rem;
                width: 100%;
                outline: none;
                @include popup-deso($sb-bg-bottom, 150%, -35%);
                .popup-entry{
                    margin: 0px 10px 2px 10px;
                }
            }
        }	
        .popup-menu-visible{
            visibility: visible;
            animation: popup-menu-visible 0.3s forwards;
        }
    }
}